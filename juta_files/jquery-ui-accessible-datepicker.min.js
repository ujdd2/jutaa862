!function(d){var r=d.datepicker._newInst,a=d.datepicker._updateDatepicker,e=d.datepicker._connectDatepicker,i=d.datepicker._showDatepicker,t=d.datepicker._hideDatepicker;d.extend(d.datepicker,{_newInst:function(e,t){var a=this,i=r.call(this,e,t);return i.inline?i.dpDiv.on("keydown.datepicker",".ui-datepicker-calendar",function(e){var t;if(-1!=d.inArray(e.keyCode,[13,33,34,35,36,37,38,39,40]))switch(e.stopPropagation(),e.preventDefault(),i._hasfocus=!0,e.keyCode){case d.ui.keyCode.ENTER:(t=d("."+a._dayOverClass,i.dpDiv).get(0)||d("."+a._currentClass,i.dpDiv).get(0))&&a._selectDay(i.input,i.selectedMonth,i.selectedYear,t);break;case d.ui.keyCode.PAGE_UP:a._adjustDate(i.input,-a._get(i,"stepMonths"),"M");break;case d.ui.keyCode.PAGE_DOWN:a._adjustDate(i.input,a._get(i,"stepMonths"),"M");break;default:return a._cursorKeydown(e,i)}}).attr("role","region").attr("aria-labelledby",i.id+"-dp-title"):(e=i.dpDiv.attr("id")||i.id+"-dp-widget",i.dpDiv.attr("id",e).attr("aria-hidden","true").attr("aria-labelledby",i.id+"-dp-title"),d(i.input).attr("aria-haspopup","true").attr("aria-expanded","false").attr("aria-owns",e)),i},_connectDatepicker:function(a,i){e.call(this,a,i);var r=this;d(a).unbind("keydown.datepicker-extended").bind("keydown.datepicker-extended",function(e){var t=1;switch(e.keyCode){case 109:case 173:case 189:t=-1;case 61:case 107:case 187:return this.value.length<r._formatDate(i,i.selectedDay,i.selectedMonth,i.selectedYear).length?!0:(r._adjustInstDate(i,t,"D"),r._selectDateRC(a,r._formatDate(i,i.selectedDay,i.selectedMonth,i.selectedYear)),!1);case d.ui.keyCode.UP:case d.ui.keyCode.DOWN:if(d.datepicker._lastInput!==a&&!d.datepicker._isDisabledDatepicker(a))return r._showDatepicker(e),e.stopPropagation(),e.preventDefault(),!1;default:if(!d.datepicker._isDisabledDatepicker(a)&&!e.ctrlKey&&!e.metaKey)return r._cursorKeydown(e,i)}}).click(function(e){r._showDatepicker(e)}).attr("autocomplete","off")},_cursorKeydown:function(e,t){t._keyEvent=!0;var a=t.dpDiv.hasClass("ui-datepicker-rtl");switch(e.keyCode){case d.ui.keyCode.LEFT:this._adjustDate(t.input,a?1:-1,"D");break;case d.ui.keyCode.RIGHT:this._adjustDate(t.input,a?-1:1,"D");break;case d.ui.keyCode.UP:this._adjustDate(t.input,-7,"D");break;case d.ui.keyCode.DOWN:this._adjustDate(t.input,7,"D");break;case d.ui.keyCode.HOME:case d.ui.keyCode.END:}return!0},_showDatepicker:function(e){e=e.target||e,i.call(this,e);var t=d.datepicker._getInst(e);t&&d.datepicker._datepickerShowing&&(t.dpDiv.attr("aria-hidden","false"),d(e).attr("aria-expanded","true"))},_hideDatepicker:function(e){t.call(this,e);e=this._curInst;e&&!d.datepicker._datepickerShowing&&(e.dpDiv.attr("aria-hidden","true"),d(e.input).attr("aria-expanded","false"))},_updateDatepicker:function(e){a.call(this,e);var t=d("."+this._dayOverClass,e.dpDiv).get(0)||d("."+this._currentClass,e.dpDiv).get(0);t&&(t=d(t)).attr("id",e.id+"-day-"+t.text()),e.dpDiv.find(".ui-datepicker-calendar").attr("tabindex",e.inline?"0":"-1").attr("role","grid").attr("aria-readonly","true").attr("aria-activedescendant",t?t.attr("id"):"").find("td").attr("role","gridcell").attr("aria-selected","false").find("a").attr("tabindex","-1"),d(".ui-datepicker-current-day",e.dpDiv).attr("aria-selected","true"),e.dpDiv.find(".ui-datepicker-title").attr("id",e.id+"-dp-title"),e._hasfocus&&(e.dpDiv.find(".ui-datepicker-calendar").focus(),e._hasfocus=!1)},_selectDateRC:function(e,t){e=d(e),e=this._getInst(e[0]);t=null!=t?t:this._formatDate(e),e.input&&e.input.val(t),this._updateAlternate(e),e.input&&e.input.trigger("change"),e.inline&&this._updateDatepicker(e)}})}(jQuery);
//# sourceMappingURL=jquery-ui-accessible-datepicker.min.js.map